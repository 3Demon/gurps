<div id='spells'>
  <div class='itemmenu header' readonly></div>
  <div class='desc header'>
    <div class='spellhead'>
      <span>{{i18n 'GURPS.spells'}}</span>
      <i class='fas fa-caret-square-down'></i>
    </div>
  </div>
  <div class='cls header'>{{i18n 'GURPS.spellClass'}}</div>
  <div class='college header'>{{i18n 'GURPS.spellCollege'}}</div>
  <div class='mana header'>{{i18n 'GURPS.spellCost'}}</div>
  <div class='mana_maintain header'>{{i18n 'GURPS.spellMaintain'}}</div>
  <div class='time header'>{{i18n 'GURPS.spellTime'}}</div>
  <div class='duration header'>{{i18n 'GURPS.spellDuration'}}</div>
  <div class='sl header'>{{i18n 'GURPS.sl'}}</div>
  <div class='rsl header'>{{i18n 'GURPS.rsl'}}</div>
  <div class='pts header'>{{i18n 'GURPS.abbrevPts' 'Pts'}}</div>
  <div class='ref header'>{{i18n 'GURPS.abbrevRef' 'Ref'}}</div>

  {{#listeqt data.spells}}
    {{#if ../isEditing}}
      <div class='itemmenu spellmenu' data-key='data.spells.{{@key}}'>
        <i class='fas fa-times'></i>
      </div>
      <div class='desc indent0 satisfiedY' data-key='data.spells.{{@key}}'><input
          name='data.spells.{{@key}}.name'
          class='gcs-input'
          type='text'
          value='{{this.name}}'
        />
        <div class='list_note satisfiedY'><input
            name='data.spells.{{@key}}.notes'
            class='gcs-input'
            type='text'
            value='{{this.notes}}'
          /></div>
        <div></div>
      </div>
      <div class='cls satisfiedY' data-key='data.spells.{{@key}}'><input
          name='data.spells.{{@key}}.class'
          class='gcs-input-sm5'
          type='text'
          value='{{this.class}}'
        /></div>
      <div class='college satisfiedY' data-key='data.spells.{{@key}}'><input
          name='data.spells.{{@key}}.college'
          class='gcs-input-sm5'
          type='text'
          value='{{this.college}}'
        /></div>
      <div class='mana satisfiedY' data-key='data.spells.{{@key}}'><input
          name='data.spells.{{@key}}.cost'
          class='gcs-input-sm3'
          type='text'
          value='{{this.cost}}'
        /></div>
      <div class='mana_maintain satisfiedY' data-key='data.spells.{{@key}}'><input
          name='data.spells.{{@key}}.maintain'
          class='gcs-input-sm4'
          type='text'
          value='{{this.maintain}}'
        /></div>
      <div class='time satisfiedY' data-key='data.spells.{{@key}}'><input
          name='data.spells.{{@key}}.casttime'
          class='gcs-input-sm5'
          type='text'
          value='{{this.casttime}}'
        /></div>
      <div class='duration satisfiedY' data-key='data.spells.{{@key}}'><input
          name='data.spells.{{@key}}.duration'
          class='gcs-input-sm5'
          type='text'
          value='{{this.duration}}'
        /></div>
      <div class='sl satisfiedY' data-key='data.spells.{{@key}}'><input
          name='data.spells.{{@key}}.import'
          class='gcs-input-sm2'
          type='text'
          value='{{this.import}}'
        /></div>
      <div class='rsl satisfiedY' data-key='data.spells.{{@key}}'><input
          name='data.spells.{{@key}}.difficulty'
          class='gcs-input-sm3'
          type='text'
          value='{{this.difficulty}}'
        />
      </div>
      <div class='pts satisfiedY' data-key='data.spells.{{@key}}'><input
          name='data.spells.{{@key}}.points'
          class='gcs-input-sm2'
          type='text'
          value='{{this.points}}'
        /></div>
      <div class='ref satisfiedY' data-key='data.spells.{{@key}}'><input
          name='data.spells.{{@key}}.pageref'
          class='gcs-input-sm5'
          type='text'
          value='{{this.pageref}}'
        /></div>
    {{else}}
      <div class='itemmenu' readonly></div>
      <div
        class='desc indent{{@indent}} satisfiedY spldraggable dblclkedit tooltip-manager'
        data-key='data.spells.{{@key}}'
      >
        {{#if (notEmpty this.contains)}}<i class='fas fa-caret-down expandcollapseicon'></i>{{/if}}
        {{#if (notEmpty this.collapsed)}}<i class='fas fa-caret-right expandcollapseicon'></i>{{/if}}
        {{{gurpslink this.name}}}
        {{#if (isFoundryItem this)}}&nbsp;<i
            class='far fas fa-star'
            style='float: right; color: olivedrab; font-weight: 900; padding-top: 3px;'
          ></i>{{/if}}
        {{#if (displayItemHover this)}}
          <div class='tooltippic'><img src='{{this.img}}' /></div>
        {{/if}}
        <div class='list_note satisfiedY'></div>
        <div class='list_note satisfiedY spldraggable' data-key='data.spells.{{@key}}'>{{{gurpslink this.notes}}}
        </div>
      </div>
      <div class='cls satisfiedY flex-center'>{{this.class}}</div>
      <div class='college satisfiedY flex-center'>{{this.college}}</div>
      <div class='mana satisfiedY flex-center'>{{this.cost}}</div>
      <div class='mana_maintain satisfiedY flex-center'>{{this.maintain}}</div>
      <div class='time satisfiedY flex-center'>{{this.casttime}}</div>
      <div class='duration satisfiedY flex-center'>{{this.duration}}</div>
      <div
        class='sl satisfiedY rollable flex-center'
        data-name='{{this.name}}'
        data-otf='S:"{{this.name}}"'
        data-key='data.spells.{{@key}}'
      >{{this.level}}
      </div>
      <div class='rsl satisfiedY flex-center'>{{this.difficulty}}</div>
      <div class='pts satisfiedY flex-center'>{{this.points}}</div>
      <div class='ref satisfiedY flex-center'>{{{pdflink this.pageref}}}</div>
    {{/if}}
  {{/listeqt}}
</div>